
import { Module } from '@/types/course';
import { VideoLesson, QuizLesson } from '@/types/course';

const lesson23OverviewOfFlatRoofSystems: VideoLesson = {
  id: 23,
  title: 'Overview of Flat Roof Systems',
  duration: '55 minutes',
  type: 'video',
  content: {
    videoUrl: 'flat-roof-systems-overview',
    textContent: `
# Overview of Flat Roof Systems

## 1. Introduction to Flat Roofs

Flat roofs are horizontal or nearly horizontal roof structures commonly used in commercial buildings, industrial facilities, and modern residential designs.

**Definition:** A flat roof typically has a slope of 1/4 inch per foot (2%) or less, which allows for drainage while maintaining a low profile.

## 2. Key Characteristics of Flat Roofs

- Minimal slope for water runoff
- Efficient use of space for HVAC units, solar panels, or rooftop gardens
- Easier and safer to access for inspection and maintenance
- Cost-effective for large buildings due to simpler construction and material use

## 3. Types of Flat Roof Systems

| Type | Description & Materials | Typical Application |
|------|------------------------|-------------------|
| Built-Up Roof (BUR) | Multiple layers of bitumen and reinforcing fabric (felts) topped with gravel | Older commercial buildings, durable |
| Modified Bitumen | Asphalt-based sheets with modifiers (APP or SBS) applied with heat or cold adhesive | Medium-budget flat roofs |
| Single-Ply Membranes | Flexible sheets made from synthetic materials like TPO, PVC, or EPDM | Popular in modern flat roof applications |
| Spray Polyurethane Foam (SPF) | Liquid foam sprayed onto roof, expands and hardens, then coated with UV-protective layer | Energy-efficient, seamless waterproof layer |
| Green Roof (Living Roof) | Vegetation layers planted over waterproof membrane with drainage | Sustainable buildings, urban environments |
| Metal Flat Roof | Flat or low-slope metal panels sealed and overlapped | Industrial, long-lasting with low maintenance |

## 4. Flat Roof Components

| Component | Function |
|-----------|----------|
| Decking/Substrate | Base layer for roofing materials (e.g., plywood, concrete, or metal) |
| Insulation | Controls temperature and prevents condensation |
| Vapor Barrier | Stops moisture from entering from below |
| Membrane Layer | Primary waterproofing system (BUR, single-ply, etc.) |
| Protective Surfacing | UV protection, walkability, and fire resistance (e.g., gravel, coatings) |
| Flashing | Seals roof edges, penetrations, and transitions |
| Drains/Scuppers | Remove water to prevent ponding |

## 5. Slope and Drainage Requirements

Although flat roofs appear level, they must have a slight slope to avoid water accumulation (ponding), which can cause leaks and structural issues.

### Drainage Methods:
- Interior Drains (connected to plumbing)
- Scuppers (openings in parapet walls)
- Gutters and Downspouts
- Tapered Insulation (to create artificial slope)

## 6. Advantages of Flat Roof Systems

✅ Easier and safer access for maintenance
✅ Lower initial cost for large buildings
✅ Usable roof space for utilities or recreation
✅ Modern aesthetic for homes and offices
✅ Simplified HVAC and solar panel installation

## 7. Disadvantages / Challenges

❌ Drainage problems if slope or outlets are inadequate
❌ Shorter lifespan compared to steep-sloped roofs
❌ Higher maintenance requirements
❌ Potential for water ponding and leakage
❌ More sensitive to installation quality

## 8. Inspection and Maintenance Tips

- Inspect at least twice a year and after major storms
- Check for blisters, cracks, or membrane lifting
- Ensure drains and scuppers are clear of debris
- Reapply coatings and sealants as needed
- Look for signs of ponding, algae, or UV damage

## 9. Common Flat Roof Problems & Solutions

| Problem | Cause | Solution |
|---------|-------|----------|
| Ponding water | Poor slope or clogged drains | Improve slope or clear drainage system |
| Membrane blistering | Trapped moisture or heat buildup | Cut, dry, and patch or replace section |
| UV degradation | Prolonged sun exposure | Apply UV-resistant coatings |
| Flashing failure | Expansion/contraction or poor seal | Reseal or replace flashing |
| Cracks and tears | Thermal movement or aging | Patch or replace damaged membrane |

## 10. Building Codes and Considerations

- Must meet local codes for drainage slope and fire resistance
- Wind uplift standards for commercial installations
- Energy efficiency may require specific insulation values (R-values)
- Green roofs often require additional structural support and drainage planning

## Discussion Questions

1. What are the key advantages of using single-ply membrane systems over BUR?
2. Why is proper drainage crucial for flat roofs?
3. How do green roofs impact flat roof performance and sustainability?
4. What maintenance practices are essential for prolonging the life of a flat roof?
5. How does the choice of flat roof system affect insulation and energy efficiency?
    `
  }
};

const lesson24InstallingMembraneSystems: VideoLesson = {
  id: 24,
  title: 'Installing Membrane Systems (EPDM, TPO, Built-up)',
  duration: '65 minutes',
  type: 'video',
  content: {
    videoUrl: 'membrane-systems-installation',
    textContent: `
# Installing Membrane Systems (EPDM, TPO, Built-Up)

## 1. Introduction to Membrane Roofing Systems

Membrane systems are widely used on low-slope and flat roofs. These systems provide a waterproof barrier and are available in both single-ply and multi-ply configurations.

- **Single-ply membranes:** EPDM, TPO, PVC
- **Multi-ply membranes:** Built-Up Roofing (BUR), Modified Bitumen
- **Focus in this lecture:** EPDM, TPO, and BUR

## 2. EPDM (Ethylene Propylene Diene Monomer)

### Characteristics:
- A synthetic rubber membrane
- Typically black (reflective white versions also available)
- Comes in large sheets (up to 50' wide)
- Known for flexibility and UV resistance

### Installation Methods:
**Preparation:** Clean and smooth substrate, apply insulation and cover board.

**Adhered:** Fully glued to the substrate using bonding adhesive.

**Mechanically Fastened:** Secured with fasteners and plates at seams.

**Ballasted:** Laid loosely and held down with gravel or pavers.

### Seaming:
- Uses seam tape or adhesive; seams must be rolled and inspected.

### Advantages:
- Easy to install and repair
- Long service life (20–30 years)
- Excellent UV and ozone resistance

## 3. TPO (Thermoplastic Polyolefin)

### Characteristics:
- White, reflective membrane (reduces cooling costs)
- Heat-welded seams
- Resistant to chemical and UV exposure

### Installation Methods:
**Preparation:** Insulation and substrate board secured over the roof deck.

**Mechanically Attached:** Fasteners along seams, heat-welded laps.

**Fully Adhered:** Glued to insulation board using bonding adhesive.

### Seaming:
- Hot-air welding (using heat guns or robotic welders)
- Welds must be tested for strength and continuity

### Advantages:
- Energy efficient (cool roof)
- Strong, heat-welded seams
- Resistant to chemicals and algae

## 4. Built-Up Roofing (BUR)

### Characteristics:
- Multi-layered system of bitumen and reinforcing fabric (usually 3–5 plies)
- Finished with gravel or cap sheets

### Installation Process:
**Deck Preparation:** Clean, dry, and primed if needed.

**Base Sheet Installation:** Applied using hot asphalt or cold adhesive.

**Ply Sheets:** Multiple layers of roofing felt embedded in bitumen.

**Surfacing:** Gravel embedded in bitumen or a reflective cap sheet.

### Application Methods:
**Hot-applied:** Uses heated asphalt kettle and mop.

**Cold-applied:** Uses adhesive instead of hot bitumen (safer alternative).

### Advantages:
- Durable and puncture-resistant
- Excellent waterproofing with redundancy
- Proven performance over time

## 5. General Installation Considerations

| Task | Guidelines |
|------|------------|
| Surface Prep | Clean, dry, and smooth deck; apply primer if required |
| Insulation Layer | Optional, improves energy efficiency and provides a smooth base |
| Weather Conditions | Dry, mild weather is ideal; avoid rain, snow, and strong wind during install |
| Seam Quality | Crucial for water tightness; test all seams post-installation |
| Flashing & Edges | Properly install flashing and termination bars at all roof edges and penetrations |
| Safety Measures | Use fall protection, PPE, and safe handling of adhesives or heated materials |

## 6. Comparison Table

| Feature | EPDM | TPO | BUR |
|---------|------|-----|-----|
| Material Type | Rubber | Thermoplastic | Asphalt + felt |
| Color | Typically black | Typically white | Gravel/Reflective cap |
| Seam Type | Tape or adhesive | Heat-welded | Overlapping asphalt layers |
| Installation | Adhered, fastened, ballasted | Adhered, fastened | Hot/cold applied |
| Lifespan | 20–30 years | 15–25 years | 20–30 years |
| Energy Efficient | Low (unless white) | High (reflective) | Moderate (depends on cap) |

## 7. Common Installation Issues and Solutions

| Problem | Cause | Solution |
|---------|-------|----------|
| Poor seam adhesion | Cold weather or improper cleaning | Clean properly, use primer, re-roll seams |
| Blisters or bubbles | Trapped moisture or air | Ensure dry surface; use vented base sheets |
| Wrinkles in membrane | Loose or uneven laying | Smooth during placement, reapply adhesive |
| Gravel displacement (BUR) | Wind or inadequate embedment | Use heavier gravel or cap sheet |

## 8. Maintenance Tips

- Inspect seams, edges, and flashings at least twice a year
- Clean debris and ponding water
- Recoat or repair damaged areas immediately
- Ensure drains and scuppers are clear

## 9. Conclusion

Installing membrane systems requires careful planning, substrate preparation, and adherence to manufacturer specifications. Whether using EPDM, TPO, or BUR, proper installation ensures long-lasting, watertight performance on flat or low-slope roofs.
    `
  }
};

const lesson25ProperDrainageAndWaterproofing: VideoLesson = {
  id: 25,
  title: 'Proper Drainage and Waterproofing',
  duration: '50 minutes',
  type: 'video',
  content: {
    videoUrl: 'roof-drainage-waterproofing-techniques',
    textContent: `
# Proper Drainage and Waterproofing

## 1. Introduction

Proper drainage and waterproofing are essential in roofing systems to prevent water intrusion, structural damage, and premature roof failure. Water that remains on or under the roof surface can lead to leaks, mold, rot, and degradation of roofing materials.

## 2. Importance of Proper Drainage

### Functions of Roof Drainage:
- Removes water from the roof surface quickly
- Prevents ponding (standing water), which can damage membranes and structure
- Protects underlying materials like insulation and decking
- Reduces ice dam formation in cold climates
- Directs water away from the foundation and walls of the building

### Consequences of Poor Drainage:
- Membrane blistering and cracking
- Structural damage from added water weight
- Roof leaks and interior water damage
- Mold and mildew growth

## 3. Drainage Design Elements

### A. Slope
**Minimum slope:**
- Low-slope roofs: ≥ ¼ inch per foot (2%)
- Steep-slope roofs: Typically ≥ 4:12 pitch
- Ensures water naturally flows to drains, scuppers, or gutters

### B. Drains
- **Interior Roof Drains:** Found on flat/low-slope roofs; water exits through internal piping
- **Scuppers:** Openings in parapet walls for water exit
- **Gutters and Downspouts:** Direct water off sloped roofs to ground drains or discharge points
- **Crickets and Saddles:** Ridges that divert water around penetrations like chimneys and HVAC units

## 4. Waterproofing in Roofing

Waterproofing ensures that water cannot penetrate the roof assembly, especially at vulnerable locations like joints, penetrations, and seams.

### Key Waterproofing Components:

| Component | Function |
|-----------|----------|
| Underlayment | Water-resistant barrier beneath shingles or tiles |
| Flashing | Directs water away from joints (valleys, chimneys, vents) |
| Sealants | Seals small gaps, fasteners, and flashing joints |
| Membranes | Continuous waterproof layers (e.g., EPDM, TPO) for flat roofs |
| Waterproof Coatings | Applied over membranes to increase water resistance |

## 5. Waterproofing Methods by Roof Type

### A. Steep-Slope Roofs
- Use overlapping shingles or tiles
- Felt or synthetic underlayment beneath roofing material
- Flashing at valleys, penetrations, and edges
- Drip edges to prevent water from wicking under roofing

### B. Low-Slope / Flat Roofs
- Continuous membranes (EPDM, TPO, PVC, BUR)
- Tapered insulation to promote drainage
- Redundant layers (especially in BUR systems)
- Fully sealed seams and flashing

## 6. Best Practices for Drainage and Waterproofing

| Practice | Why It Matters |
|----------|----------------|
| Ensure proper slope and tapered insulation | Eliminates standing water |
| Install and seal flashing correctly | Prevents water intrusion at roof joints |
| Use compatible materials | Avoid corrosion or membrane damage |
| Overlap materials in direction of water flow | Promotes runoff and prevents backflow |
| Maintain and clean drains and gutters | Prevents blockages and ponding |
| Inspect after storms | Early detection of failures or leaks |

## 7. Common Problems and Solutions

| Problem | Cause | Solution |
|---------|-------|----------|
| Ponding water | Inadequate slope or clogged drains | Re-slope using tapered insulation; clear drains |
| Leaks at penetrations | Poor flashing or sealant failure | Reseal or replace flashing and sealant |
| Overflowing gutters | Blocked or undersized gutters/downspouts | Clean or upsize drainage system |
| Water damage under roofing | Compromised underlayment or membrane | Replace damaged materials and seal properly |

## 8. Maintenance Guidelines

- Clean gutters, scuppers, and drains at least twice per year
- Inspect flashing and seals for cracks or gaps
- Check roof slope for low areas or depressions
- Ensure no debris (e.g., leaves, ice, tools) blocks water flow
- Use infrared or moisture sensors for advanced leak detection

## 9. Code and Compliance Requirements

Building codes typically require:
- Minimum slope standards
- Overflow drainage provisions (secondary drains or scuppers)
- Waterproofing membranes on low-slope roofs
- Always follow manufacturer instructions and local codes

## 10. Conclusion

Proper drainage and waterproofing are fundamental to the health and longevity of any roofing system. Effective design, correct material usage, and ongoing maintenance work together to ensure roofs remain watertight and structurally sound.
    `
  }
};

const lesson26CommonProblemsAndSolutions: VideoLesson = {
  id: 26,
  title: 'Common Problems and Solutions',
  duration: '45 minutes',
  type: 'video',
  content: {
    videoUrl: 'flat-roof-problems-solutions',
    textContent: `
# Common Roofing Problems and Solutions

## 1. Introduction

Roofing systems are constantly exposed to weather, structural movement, and aging. Over time, these factors can lead to common roofing problems. Understanding these issues, their causes, and how to fix them is essential for maintaining roof integrity and extending its service life.

## 2. Categories of Roofing Problems

| Category | Description |
|----------|-------------|
| Structural Issues | Problems with roof decking, framing, or support |
| Material Failures | Deterioration or damage to shingles, membranes, or sealants |
| Drainage Issues | Poor water flow or ponding on roof surface |
| Waterproofing Failures | Leaks at joints, flashing, or penetrations |
| Installation Deficiencies | Improper application or use of materials |
| Maintenance Neglect | Lack of routine inspection and cleaning |

## 3. Common Roofing Problems and Their Causes

### Problem 1: Leaks and Moisture Intrusion
**Cause:** Damaged shingles, cracked flashing, poor sealing, or failed underlayment

**Solution:**
- Identify leak source
- Replace damaged materials
- Reseal flashing and penetrations
- Apply waterproof coatings where necessary

### Problem 2: Ponding Water (Flat Roofs)
**Cause:** Inadequate slope or clogged drains

**Solution:**
- Install tapered insulation or improve slope
- Clean drains and scuppers
- Add additional drainage points if needed

### Problem 3: Blistering and Bubbling
**Cause:** Moisture trapped beneath roofing membrane or poor ventilation

**Solution:**
- Cut and patch affected membrane areas
- Improve attic ventilation
- Use quality materials with proper installation

### Problem 4: Cracked or Missing Shingles/Tiles
**Cause:** Wind damage, hail, aging, or poor installation

**Solution:**
- Replace individual damaged shingles or tiles
- Check surrounding areas for additional wear

### Problem 5: Damaged Flashing
**Cause:** Thermal movement, rust, or improper installation

**Solution:**
- Replace flashing with corrosion-resistant materials
- Use compatible sealants
- Ensure overlapping in direction of water flow

### Problem 6: Sagging Roof Deck
**Cause:** Water damage, rotting sheathing, or structural overload

**Solution:**
- Inspect and replace damaged decking
- Reinforce roof structure if needed
- Eliminate water source causing rot

### Problem 7: Gutter and Downspout Failures
**Cause:** Blockages, poor slope, loose hangers

**Solution:**
- Clean regularly
- Ensure correct slope (¼ inch per 10 ft.)
- Reattach or replace hangers and seals

### Problem 8: Ice Dams (Cold Climates)
**Cause:** Inadequate attic insulation or ventilation

**Solution:**
- Improve attic insulation and air sealing
- Add ridge and soffit vents
- Install ice and water shield at eaves

### Problem 9: Mold or Mildew in Attic
**Cause:** Poor ventilation and moisture accumulation

**Solution:**
- Improve airflow with intake and exhaust vents
- Remove mold with appropriate cleaning agents
- Address moisture entry points

### Problem 10: Fastener Back-Out or Corrosion
**Cause:** Expansion/contraction, poor anchoring, incompatible materials

**Solution:**
- Replace corroded or backed-out fasteners
- Use proper corrosion-resistant screws or nails
- Seal fastener heads with roofing cement

## 4. Preventive Measures

| Practice | Purpose |
|----------|---------|
| Regular inspections (2x/year) | Detect and fix problems early |
| Cleaning gutters and drains | Prevent overflow and ponding |
| Re-sealing flashing | Maintain waterproof integrity |
| Prompt repair of damaged areas | Avoid further water penetration |
| Ensure attic ventilation | Prevent heat and moisture buildup |

## 5. Checklist for Roof Maintenance

✅ Inspect roof surface for damage or wear
✅ Check flashing at chimneys, skylights, and valleys
✅ Examine gutters and downspouts for blockages or sagging
✅ Look for ponding or discoloration on flat roofs
✅ Ensure vents are clear and unobstructed
✅ Look inside attic for stains, moisture, or mold

## 6. Summary Table

| Problem | Cause | Solution |
|---------|-------|----------|
| Leaks | Damaged flashing or roofing material | Patch, replace, or reseal |
| Ponding | Poor slope or clogged drains | Improve slope, clean drains |
| Shingle damage | Wind, aging, or impact | Replace shingles or tiles |
| Mold/mildew | Moisture buildup in attic | Improve ventilation and remove mold |
| Ice dams | Poor insulation or ventilation | Add insulation and airflow systems |

## 7. Conclusion

Proactive roof maintenance and timely identification of problems are key to avoiding costly repairs and extending roof life. Always follow manufacturer guidelines and local codes for all repairs and replacements.
    `
  }
};

const lesson27Quiz: QuizLesson = {
  id: 27,
  title: 'Module 6 Quiz: Flat and Low-Slope Roofing',
  duration: '30 minutes',
  type: 'quiz',
  content: {
    questions: [
      {
        question: 'What is the minimum slope recommended for low-slope roofs to ensure proper drainage?',
        options: [
          '1/8 inch per foot',
          '1/4 inch per foot',
          '1/2 inch per foot',
          '1 inch per foot'
        ],
        correct: 1,
        explanation: 'Low-slope roofs require a minimum slope of 1/4 inch per foot (2%) to ensure water flows properly to drains or scuppers, preventing ponding.'
      },
      {
        question: 'Which roofing drainage component is typically used on flat roofs to direct water internally?',
        options: [
          'Gutters',
          'Scuppers',
          'Interior roof drains',
          'Downspouts'
        ],
        correct: 2,
        explanation: 'Interior drains are installed on flat or low-slope roofs to channel water through piping inside the building structure.'
      },
      {
        question: 'What is the primary purpose of flashing in roofing systems?',
        options: [
          'To provide insulation',
          'To direct water away from joints and penetrations',
          'To improve structural strength',
          'To reduce noise'
        ],
        correct: 1,
        explanation: 'Flashing prevents water intrusion by directing water away from vulnerable roof areas like joints, valleys, chimneys, and vents.'
      },
      {
        question: 'Which of the following is a common cause of ponding water on flat roofs?',
        options: [
          'Excessive insulation',
          'Clogged drains or inadequate slope',
          'Too much flashing',
          'High wind speeds'
        ],
        correct: 1,
        explanation: 'Ponding occurs when water cannot drain properly due to poor slope or blocked drains.'
      },
      {
        question: 'What is one key method to prevent ice dams in cold climates?',
        options: [
          'Install more gutters',
          'Improve attic insulation and ventilation',
          'Use darker roofing materials',
          'Increase roof slope'
        ],
        correct: 1,
        explanation: 'Proper insulation and ventilation keep the roof surface cold to prevent ice dams forming at eaves.'
      },
      {
        question: 'Which roofing problem is often caused by poor ventilation and moisture trapped beneath the membrane?',
        options: [
          'Ponding water',
          'Blistering and bubbling',
          'Shingle damage',
          'Gutter overflow'
        ],
        correct: 1,
        explanation: 'Moisture trapped under roofing membranes due to poor ventilation causes blistering and bubbling.'
      },
      {
        question: 'What maintenance practice helps prevent blockages and ponding on roofs?',
        options: [
          'Installing more flashing',
          'Cleaning gutters, scuppers, and drains twice per year',
          'Adding more insulation',
          'Painting the roof surface'
        ],
        correct: 1,
        explanation: 'Regular cleaning prevents debris buildup that blocks water flow and causes ponding.'
      },
      {
        question: 'When installing flashing, what is an important practice to ensure water runoff?',
        options: [
          'Overlap materials in the direction of water flow',
          'Use only metal materials',
          'Install vertically only',
          'Avoid any overlapping'
        ],
        correct: 0,
        explanation: 'Proper overlapping ensures water flows off the roof and doesn\'t seep under flashing joints.'
      },
      {
        question: 'Which of the following is NOT a function of proper roof drainage?',
        options: [
          'Removing water from roof surface',
          'Preventing ponding water',
          'Increasing roof weight',
          'Protecting underlying materials'
        ],
        correct: 2,
        explanation: 'Proper drainage removes water and reduces weight; increasing roof weight is a problem, not a function.'
      },
      {
        question: 'What is the recommended slope for gutters to ensure proper water flow?',
        options: [
          '1/4 inch per 10 feet',
          '1/2 inch per 10 feet',
          '1 inch per 10 feet',
          '2 inches per 10 feet'
        ],
        correct: 0,
        explanation: 'Gutters should slope approximately 1/4 inch per 10 feet toward downspouts to ensure effective water drainage.'
      }
    ]
  }
};

export const module6FlatAndLowSlopeRoofing: Module = {
  id: 6,
  title: 'Flat and Low-Slope Roofing',
  description: 'Comprehensive training on flat and low-slope roofing systems, including membrane installation techniques, proper drainage and waterproofing methods, and troubleshooting common problems.',
  lessons: [
    lesson23OverviewOfFlatRoofSystems,
    lesson24InstallingMembraneSystems,
    lesson25ProperDrainageAndWaterproofing,
    lesson26CommonProblemsAndSolutions,
    lesson27Quiz
  ]
};
